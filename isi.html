<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Undangan Digital Scroll</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&family=Montserrat:wght@600&display=swap" rel="stylesheet">
 <link href="https://fonts.googleapis.com/css2?family=Passion+One:wght@700&family=Squada+One&family=Archivo+Black&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
<style>
    :root {
    --vh: 1vh;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body { height:100%; background:#0b4da1; }
  body {
    font-family: Arial, sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100%;
    -webkit-font-smoothing:antialiased;
    -webkit-text-size-adjust:100%;
  }

     /* PHONE FRAME FULLSCREEN: gunakan --vh (update via JS) dan 100dvh fallback */
  .phone-frame {
    width:100%;
    max-width:500px;
    height: calc(var(--vh, 1vh) * 100); /* primary */
    height: 100dvh; /* fallback modern */
    background: #fff;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    overflow:hidden;
    position:relative;
    display:flex;
    flex-direction:column;
    border-radius: 6px; /* sedikit rounded supaya mirip app */
  }

    .section {
        display: none;
        flex: 1;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 20px;
        flex-direction: column;
    }
    .section.active {
    display: flex;
    }


     #opening {
  width: 100%;
  height: 100%; /* penuh tinggi phone-frame */
  text-align: center;
  padding: 25px 15px;
  font-family: Arial, sans-serif;
  border-radius: 0; /* buang radius biar full */
  margin: 0;        /* buang margin */
  background: url('mbappe-bg.png') no-repeat center center;
  background-size: cover; /* nutup full */
  position: relative;
  overflow: hidden;
  text-shadow: 3px 3px 6px #000;
  color: #ddd;
}

#opening::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.3); 
  z-index: 0; /* ⬅️ biar di belakang semua */
}

#opening .opening-container {
  margin-bottom: 150px; /* opsional */
  padding: 15px;
}
     /* Judul Happy Birthday */
    .title {
      font-family: 'Passion One', 'Squada One', 'Archivo Black', sans-serif;
      text-transform: uppercase;
      font-weight: bold;
      text-shadow: 3px 3px 6px #000;
      line-height: 1;
      padding: 40px 20px;
      opacity: 0;
      transform: translateY(-50px);
      animation: fadeDown 1s forwards ease-in-out 0.3s, bounce 1.5s infinite 1.5s;
    }

    .title .happy {
      font-size: 3rem;
      color: #1e90ff;
      display: block;
      margin-bottom: -12px;
    }
    .title .birthday {
      font-size: 2.8rem;
      color: #fff;
      display: block;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-20px); }
      60% { transform: translateY(-10px); }
    }

    @keyframes fadeDown {
      0% { opacity: 0; transform: translateY(-50px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeUp {
      0% { opacity: 0; transform: translateY(50px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInScale {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }

    .opening h3 {
      font-family: 'Montserrat', sans-serif;
      font-weight: 300;
      font-size: 21px;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 3px 3px 6px #000;
      margin: 10px 0;
      opacity: 0;
      animation: fadeUp 0.8s forwards ease-in-out;
    }

    .opening h3:nth-of-type(1) { 
      animation-delay: 0.6s; 
    }
    .opening h3:nth-of-type(2) { 
      animation-delay: 1.4s; 
      margin-bottom: 55px; 
    }

    .opening h1 {
      font-size: 2.9rem;
      font-weight: 300;
      color: #3396D3;
      font-family: 'Anton', sans-serif;
      text-shadow: 2px 2px 5px #000;
      margin: -20px 0;
      opacity: 0;
      animation: fadeInScale 1s forwards ease-in-out 1s;
    }

    .opening p {
      font-size: 1rem;
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      text-shadow: 3px 3px 6px #000;
      margin: 8px 0;
      opacity: 0;
      animation: fadeUp 0.8s forwards ease-in-out;
    }
    .opening p:nth-of-type(1) { 
      animation-delay: 1.8s; 
    }

    .opening p.guest-name {
        font-family: 'Passion One', 'Squada One', 'Archivo Black', sans-serif;
      font-size: 1.5rem;
      margin-top: 2px;
      margin-bottom: -5px;
      animation-delay: 2.1s;
      text-shadow: 3px 3px 10px #000;
    }

    #opening .frame-top-left { top: -1px; left: -2px; }
#opening .frame-top-right { top: -1px; right: -2px; }
#opening .frame-bottom-left { bottom: 85px; left: -2px; z-index: 1; }
#opening .frame-bottom-right { bottom: 80px; right: -2px; z-index: 1; }

#opening .show-top-left { animation: slideFromTopLeft 0.8s forwards; }
#opening .show-top-right { animation: slideFromTopRight 0.8s forwards; }
#opening .show-bottom-left { animation: slideFromBottomLeft 0.8s forwards; }
#opening .show-bottom-right { animation: slideFromBottomRight 0.8s forwards; }

  #acara {
  width: 100%;
  height: 100%; /* penuh tinggi phone-frame */
  text-align: center;
  padding: 25px 15px;
  font-family: Arial, sans-serif;
  border-radius: 0; /* buang radius biar full */
  margin: 0;        /* buang margin */
  background: url('mbappe-bg.png') no-repeat center center;
  background-size: cover; /* nutup full */
  position: relative;
  overflow: hidden;
  text-shadow: 3px 3px 6px #000;
  color: #ddd;
}

#acara::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.3); 
  z-index: 0; /* ⬅️ biar di belakang semua */
}


/* Supaya tulisan tetap muncul di atas overlay */
#acara .acara-container {
  position: relative;
  z-index: 2;
}


.acara-container .welcome {
  font-size: 28px;
  letter-spacing: 1px;
  font-weight: bold;
  margin-bottom: 5px;
  color: #1e90ff;
  margin-top: -130px;
  padding: 20px 20px;   /* Atas & bawah 50px, kanan & kiri 20px */
 font-family: 'Montserrat', sans-serif;
  font-weight: bold;
}

.acara-container .ulang-tahun {
  font-size: 48px;
  font-weight: bold;
  margin: 5px 0;
}

.acara-container .party {
  font-size: 18px;
  margin-bottom: 20px;
}

.tanggal {
  display: flex;
  justify-content: center;   /* biar tengah */
  align-items: center;
  margin: 15px 0 20px;
  text-align: center;
  gap: 8px;                  /* atur jarak antar kolom */
}

.tanggal > div {
  flex: none;                /* biar ukuran sesuai isi */
  padding: 0 3px;            /* jarak kiri kanan kecil */
}

.tanggal .jam {
  border-left: 2px solid #ffffff;
  padding-left: 10px;
}

.tanggal .hari {
  font-size: 42px;
  font-weight: bold;
   color: #1e90ff;
  display: block;
  text-shadow: 3px 3px 6px #000;
}

.tanggal .info,
.tanggal .jam {
  font-size: 15px;
  font-weight: bold;
  text-transform: uppercase;
  line-height: 1.4;
  color: #ddd;
}


.lokasi {
  margin: 20px 0;
  font-size: 14px;
  line-height: 1.5;
  color: #ddd;
}

#countdown {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
  flex-wrap: wrap;
}

#countdown div {
  background: #1e90ff;
  color: white;
  padding: 10px 12px;
  border-radius: 10px;
  min-width: 60px;
  text-align: center;
}

#countdown span {
  font-size: 22px;
  font-weight: bold;
  display: block;
}

/* Frame umum */
.frame-img {
  position: absolute;
  width: 390px;
  opacity: 0;
  z-index: 1;
}

/* Top kiri & kanan */
#acara .frame-top-left {
  top: -1px;
  left: -2px;
  z-index: 20;
  pointer-events: none;
  animation: slideFromTopLeft 0.8s forwards;
  
}
#acara .frame-top-right {
  top: -1px;
  right: -2px;
  z-index: 20;
  pointer-events: none;
  animation: slideFromTopRight 0.8s forwards;
}

/* Bottom kiri & kanan */
#acara .frame-bottom-left {
  bottom: 80px;
  left: -2px;
  z-index: 1;
  pointer-events: none;
  animation: slideFromBottomLeft 0.8s forwards;
}
#acara .frame-bottom-right {
  bottom: 80px;
  right: -2px;
  z-index: 1;
  pointer-events: none;
  animation: slideFromBottomRight 0.8s forwards;
}

/* Section Maps */
#maps {
  position: relative; /* penting! biar overlay nggak kabur */
  width: 100%;
  height: 100%;
  text-align: center;
  padding: 25px 15px;
  font-family: Arial, sans-serif;
  margin: 0;
  background: url('mbappe-bg.png') no-repeat center center;
  background-size: cover;
  overflow: hidden;
  color: #fff;
}

/* Overlay gelap */
#maps::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.4);
  z-index: 0; /* taruh di belakang */
}

/* Semua isi di atas overlay */
#maps .maps-container {
  position: relative;
  z-index: 2;
  padding-bottom: 80px;
}


/* iframe juga dikasih z-index */
#maps iframe {
  position: relative;
  z-index: 2;
}

/* Title */
.maps-title {
  font-size: 28px;
  font-weight: bold;
  color: #1e90ff; /* kuning biar kontras */
  margin-bottom: 15px;
  font-family: 'Montserrat', sans-serif;
   text-shadow: 3px 3px 6px #000;
}

/* Embed Maps */
.maps-embed {
  margin: 0 auto 15px;
  border: 3px solid white;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

/* Alamat */
.maps-address {
  font-size: 15px;
  color: #eee;
  margin: 10px 0 20px;
  line-height: 1.6;
   text-shadow: 3px 3px 6px #000;
}

/* Tombol */
.btn-maps {
  display: inline-block;
  background: #1e90ff;
  color: white;
  padding: 12px 20px;
  border-radius: 25px;
  text-decoration: none;
  font-weight: bold;
  transition: background 0.3s ease;
}
.btn-maps:hover {
  background: #1C6EA4;
}

#maps .frame-img {
  position: absolute;
  width: 390px;
  opacity: 0;
  z-index: 3;
  pointer-events: none;
}
#maps .frame-top-left { top: -1px; left: -2px; }
#maps .frame-top-right { top: -1px; right: -2px; }
#maps .frame-bottom-left { bottom: 80px; left: -2px; z-index: 1; }
#maps .frame-bottom-right { bottom: 80px; right: -2px; z-index: 1; }

#maps .show-top-left { animation: slideFromTopLeft 0.8s forwards; }
#maps .show-top-right { animation: slideFromTopRight 0.8s forwards; }
#maps .show-bottom-left { animation: slideFromBottomLeft 0.8s forwards; }
#maps .show-bottom-right { animation: slideFromBottomRight 0.8s forwards; }


#rsvp {
  position: relative; /* penting! biar overlay nggak kabur */
  width: 100%;
  height: 100%;
  text-align: center;
  padding: 25px 15px;
  font-family: Arial, sans-serif;
  margin: 0;
  background: url('mbappe-bg.png') no-repeat center center;
  background-size: cover;
  overflow: hidden;
  color: #fff;
}

/* Overlay gelap */
#rsvp::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.4);
  z-index: 0; /* taruh di belakang */
}

/* Semua isi di atas overlay */
#rsvp .rsvp-container {
  position: relative;
  z-index: 2;
  padding-bottom: 80px;
}
/* ===== RSVP avatar + heading style ===== */
.rsvp-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  margin-bottom: 6px;
  padding-top: 6px;
}

/* lingkaran foto */
.rsvp-avatar {
  width: 220px;
  height: 220px;
  border-radius: 50%;
  padding: 6px; /* ketebalan border gradient */
  background: linear-gradient(135deg, #1e3c72, #2a5298, #00c6ff); /* gradasi biru */
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeDown 1s forwards ease-in-out 0.3s, bounce 1.5s infinite 1.5s;
}

 @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-20px); }
      60% { transform: translateY(-10px); }
    }

    @keyframes fadeDown {
      0% { opacity: 0; transform: translateY(-50px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeUp {
      0% { opacity: 0; transform: translateY(50px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInScale {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }

.rsvp-avatar img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

/* judul khas (font bulat seperti contoh) */
.rsvp-title {
  font-family: 'Baloo 2', 'Montserrat', sans-serif;
  font-size: 26px;
  line-height: 1.02;
  text-align: center;
  color: #ffffff;            /* ubah jika background section berwarna terang */
  text-shadow: 0 6px 18px rgba(0,0,0,0.35);
  padding: 0 14px;
  font-weight: 700;
  letter-spacing: 0.4px;
}

/* subjudul kecil */
.rsvp-subtitle {
  font-family: 'Montserrat', sans-serif;
  font-size: 13px;
  color: rgba(255,255,255,0.90);
  margin-top: -2px;
}

/* jika section rsvp background putih, gunakan varian gelap */
.section#rsvp .rsvp-title.light {
  color: #102a43;
  text-shadow: none;
}


    .btn-rsvp {
      background: #007bff;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    .btn-rsvp:hover {
      background: #0056b3;
    }

    /* modal overlay */
    .rsvp-modal {
      position: fixed;
      z-index: 1200;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none;
      justify-content: center;
      align-items: center;
      background: rgba(0,0,0,0.6);
    }

    /* tampil saat aria-hidden false */
    .rsvp-modal[aria-hidden="false"] {
      display: flex;
    }

    /* modal box */
    .rsvp-modal-content {
      background: #fff;
      width: 90%;
      max-width: 420px;
      border-radius: 12px;
      padding: 20px 22px;
      box-shadow: 0 6px 28px rgba(0,0,0,0.25);
      text-align: left;
      position: relative;
    }

    .rsvp-modal-content h3 {
      margin: 0 0 10px;
      text-align: center;
      font-size: 20px;
      color: #000;
    }

    .rsvp-modal-content .confirm-sub {
      text-align: center;
      color: #666;
      margin-bottom: 12px;
    }

    /* close X */
    .close-x {
      position: absolute;
      top: 10px;
      right: 12px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #fff;
      color: #d60000;
      border: 1px solid rgba(0,0,0,0.06);
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 14px rgba(0,0,0,0.08);
      cursor: pointer;
    }

    /* input */
    .rsvp-modal-content input,
    .rsvp-modal-content select,
    .rsvp-modal-content textarea {
      width: 100%;
      padding: 10px 12px;
      margin: 8px 0;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      outline: none;
    }

    .rsvp-modal-content textarea {
      min-height: 80px;
      resize: vertical;
    }

    .whatsapp-input {
      display: flex;
      gap: 8px;
    }

    .whatsapp-input select {
      flex: 0 0 28%;
    }

    .whatsapp-input input {
      flex: 1;
    }

    /* tombol Kirim & Tutup: berdampingan + rata tengah */
    .modal-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-top: 12px;
      flex-wrap: wrap;
    }

    .btn-primary {
      background: linear-gradient(90deg,#ff3b30,#d60000);
      color: #fff;
      border: none;
      padding: 10px 18px;
      border-radius: 28px;
      font-weight: 700;
      cursor: pointer;
      min-width: 120px;
      box-shadow: 0 8px 20px rgba(214,0,0,0.12);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: #f1f5f9;
      color: #0f172a;
      border: none;
      padding: 10px 18px;
      border-radius: 28px;
      font-weight: 700;
      cursor: pointer;
      min-width: 120px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    }

    .btn-secondary:hover {
      opacity: 0.95;
    }

    /* area konfirmasi details */
    .confirm-details {
      margin-top: 8px;
      color: #333;
    }

    /* daftar RSVP (card) */
    .rsvp-list {
      margin-top: 18px;
      width: 100%;
      max-width: 420px;
    }

    .rsvp-list .entry {
      border-radius: 10px;
      border: 1px solid #eee;
      padding: 12px;
      display: flex;
      gap: 12px;
      align-items: flex-start;
      background: #fff;
      margin-bottom: 12px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.03);
    }

    .rsvp-list .avatar {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: #fff;
      flex: 0 0 44px;
    }

    .rsvp-list .meta {
      flex: 1;
    }

    .rsvp-list .meta .row1 {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .rsvp-list .meta .name {
      font-weight: 700;
    }

    .rsvp-list .meta .badge {
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 8px;
      color: #fff;
    }

    .rsvp-list .comment {
      margin-top: 8px;
      color: #333;
    }

    .rsvp-list .time {
      margin-top: 8px;
      color: #777;
      font-size: 13px;
    }

    /* tambahkan style untuk pesan terima kasih */
.rsvp-thanks {
  margin-top: 18px;
  max-width: 420px;
  background: #fff;
  border-radius: 10px;
  padding: 14px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.03);
  color: #333;
  text-align: center;
  font-weight: 600;
}

/* sembunyikan list bila perlu */
.rsvp-list.hidden { display: none !important; }

/* sembunyikan tombol bila perlu */
.btn-rsvp.hidden { display: none !important; }

#rsvp .frame-img {
  position: absolute;
  width: 390px;
  opacity: 0;
  z-index: 1;
  pointer-events: none;
}
#rsvp .frame-top-left { top: -1px; left: -2px; }
#rsvp .frame-top-right { top: -1px; right: -2px; }
#rsvp .frame-bottom-left { bottom: 80px; left: -2px; z-index: 1; }
#rsvp .frame-bottom-right { bottom: 80px; right: -2px; z-index: 1; }

#rsvp .show-top-left { animation: slideFromTopLeft 0.8s forwards; }
#rsvp .show-top-right { animation: slideFromTopRight 0.8s forwards; }
#rsvp .show-bottom-left { animation: slideFromBottomLeft 0.8s forwards; }
#rsvp .show-bottom-right { animation: slideFromBottomRight 0.8s forwards; }

/* ==== Gift Section ==== */
#gift {
  position: relative; /* penting! biar overlay nggak kabur */
  width: 100%;
  height: 100%;
  text-align: center;
  padding: 20px 15px;
  font-family: Arial, sans-serif;
  margin: 0;
  background: url('mbappe-bg.png') no-repeat center center;
  background-size: cover;
  overflow: hidden;
}

/* Overlay gelap */
#gift::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.4);
  z-index: 0; /* taruh di belakang */
}

#gift .gift-container {
  position: relative;
  z-index: 2;
  padding-top: -190px; /* positif — turunkan isi supaya tidak tertutup dekorasi */
}

.gift-section {
  text-align: center;
  padding: 60px 20px;
  margin-top: 0;
  position: relative;
}

.gift-title {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 15px;
  color: #1e90ff; 
   font-family: 'Montserrat', sans-serif;
   padding: 5px 20px;
}

.gift-text {
  font-size: 15px;
  color: #ffffff;
  margin-bottom: 30px;
  line-height: 1.6;
  padding: 5px 20px;
}

/* Tombol Gift */
.gift-buttons {
  display: flex;
  justify-content: center;
  gap: 15px;
  flex-wrap: wrap;
}

.gift-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  border-radius: 25px;
  font-size: 14px;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

/* Cashless button */
.gift-btn.cashless {
  background: #1e90ff;  
  color: white;
}
.gift-btn.cashless:hover {
  background: #0056b3;
}

/* Transisi animasi muncul/hilang */
.cashless-info {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: all 0.5s ease;
}

.cashless-info.show {
  max-height: 500px; /* cukup besar */
  opacity: 1;
  margin-top: 20px;
}

/* Card rekening */
.cashless-card {
  display: flex;
  align-items: center;
  gap: 12px;
  background: #ffffff;
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.12);
  transform: translateY(-10px);
  opacity: 0;
  transition: all 0.4s ease;
  max-width: 300px;   /* lebar maksimum */
  margin: 0 auto;
 margin-bottom: 20px;
}

/* saat aktif muncul */
.cashless-info.show .cashless-card {
  transform: translateY(0);
  opacity: 1;
}

/* Logo bank */
.bank-logo {
  width: 70px;
  height: auto;
}

/* Detail */
.cashless-details {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.rek-number {
  font-size: 16px;
  font-weight: bold;
  margin: 0;
  color: #333;
}

.bank-name {
  font-size: 14px;
  color: #555;
  margin-top: 6px;
}

/* Tombol Salin Rekening */
.btn-copy {
  margin-top: 8px;
  background: #1e90ff;
  color: #fff;
  padding: 8px 16px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  transition: all 0.3s ease;
}

.btn-copy:hover {
  background: #0056b3;
  transform: scale(1.05);
}

/* Kirim Kado button */
.gift-btn.kirim {
  background: #FFD93D;   /* kuning */
  color: #f7f7f7;
}
.gift-btn.kirim:hover {
  background: #FCC61D;
}

/* Panel Kirim Kado: default hidden */
.gift-info {
  z-index: 40;               /* pastikan di atas frame dekorasi (frame z-index 1..20) */
  max-width: 300px;
  width: 92%;
  padding: 12px 14px;
  color: #fff;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
  text-align: center;
  overflow: hidden;
  opacity: 0;
  transform: translateY(10px); /* awal sedikit turun */
  transition: transform 0.42s cubic-bezier(.2,.9,.2,1), opacity 0.42s;
  line-height: 1.4;
}

/* Saat muncul: naik sedikit supaya tak tertutup dekorasi */
.gift-info.show {
  max-height: 360px;
  opacity: 1;
  transform: translateY(-5px);
}

/* Tambahan animasi muncul */
.gift-info h3 {
  margin: 0 0 10px 0;
  font-size: 20px;
  font-weight: bold;
  animation: fadeInDown 0.8s ease forwards;
  color: #ffea00;
}
.gift-info p {
  font-size: 16px;
  line-height: 1.4;
  animation: fadeInUp 1s ease forwards;
}

@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

#gift .frame-img {
  position: absolute;
  width: 390px;
  opacity: 0;
  z-index: 1;
  pointer-events: none;
}

#gift .frame-top-left { top: -1px; left: -2px; }
#gift .frame-top-right { top: -1px; right: -2px; }
#gift .frame-bottom-left { bottom: 80px; left: -2px; z-index: 1; }
#gift .frame-bottom-right { bottom: 80px; right: -2px; z-index: 1; }

#gift .show-top-left { animation: slideFromTopLeft 0.8s forwards; }
#gift .show-top-right { animation: slideFromTopRight 0.8s forwards; }
#gift .show-bottom-left { animation: slideFromBottomLeft 0.8s forwards; }
#gift .show-bottom-right { animation: slideFromBottomRight 0.8s forwards; }

#thanks {
  position: relative; /* penting! biar overlay nggak kabur */
  width: 100%;
  height: 100%;
  text-align: center;
  padding: 20px 15px;
  font-family: Arial, sans-serif;
  margin: 0;
  background: url('mbappe-bg.png') no-repeat center center;
  background-size: cover;
  overflow: hidden;
}

/* Overlay gelap */
#thanks::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.4);
  z-index: 0; /* taruh di belakang */
}

#thanks .thanks-container {
  position: relative;
  z-index: 2;
  padding-top: -110px; /* positif — turunkan isi supaya tidak tertutup dekorasi */
}

/* Judul besar THANK YOU */
#thanks .thanks-title {
  font-size: 32px;
  font-weight: 800;
  color: #ffffff;
  text-transform: uppercase;
  margin-bottom: 12px;
  letter-spacing: 2px;
  text-shadow: 3px 3px 6px rgba(0,0,0,0.7);
  animation: fadeInDown 1.2s ease-in-out;
}

/* Teks kecil HOPE TO SEE YOU */
#thanks .thanks-text {
  font-size: 15px;
  font-weight: 500;
  color: #e0e0e0;
  text-transform: uppercase;
  line-height: 1;
  text-shadow: 2px 2px 5px rgba(0,0,0,0.6);
  animation: fadeInUp 1.5s ease-in-out;
}

/* Animasi sederhana */
@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-30px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to   { opacity: 1; transform: translateY(0); }
}


#thanks .frame-img {
  position: absolute;
  width: 390px;
  opacity: 0;
  z-index: 1;
  pointer-events: none;
}

#thanks .frame-top-left { top: -1px; left: -2px; }
#thanks .frame-top-right { top: -1px; right: -2px; }
#thanks .frame-bottom-left { bottom: 85px; left: -2px; z-index: 1; }
#thanks .frame-bottom-right { bottom: 80px; right: -2px; z-index: 1; }

#thanks .show-top-left { animation: slideFromTopLeft 0.8s forwards; }
#thanks .show-top-right { animation: slideFromTopRight 0.8s forwards; }
#thanks .show-bottom-left { animation: slideFromBottomLeft 0.8s forwards; }
#thanks .show-bottom-right { animation: slideFromBottomRight 0.8s forwards; }


/* keyframe slidfrom */
@keyframes slideFromTopLeft {
  0% { transform: translate(-150%, -150%); opacity: 0; }
  100% { transform: translate(0, 0); opacity: 1; }
}

@keyframes slideFromTopRight {
  0% { transform: translate(150%, -150%); opacity: 0; }
  100% { transform: translate(0, 0); opacity: 1; }
}

@keyframes slideFromBottomLeft {
  0% { transform: translate(-150%, 150%); opacity: 0; }
  100% { transform: translate(0, 0); opacity: 1; }
}

@keyframes slideFromBottomRight {
  0% { transform: translate(150%, 150%); opacity: 0; }
  100% { transform: translate(0, 0); opacity: 1; }
}


   .bottom-nav {
  position: absolute;
  bottom: -1px; left: 0;
  width: 100%;
  background: #3498db;   /* biru */
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 17px 0 25px;
  z-index: 50;
}

.bottom-nav a {
  text-decoration: none;
  text-align: center;
}

.bottom-nav .nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 6px 10px;
  border-radius: 7px;
  transition: all 0.3s ease;
  color: #fff;
  width: fit-content;   /* cuma selebar isi */
  margin: 0 auto;       /* tetap rata tengah */
}


.bottom-nav .nav-item i {
  font-size: 17px;
  margin-bottom: 5px;
}

.bottom-nav .nav-item span {
  font-size: 13px;   /* atur besar kecil teks */
  line-height: 1.2;  /* biar proporsional */
}


.bottom-nav a.active .nav-item {
  background: #f1c40f; /* kuning */
  color: #fff;         /* icon & teks tetap putih */
}

/* Default: untuk HP */
.floating-controls {
  position: fixed;
  bottom: 90px;
  right: 15px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  z-index: 20;
}

/* Style tombol */
.circle-btn {
  width: 55px;
  height: 55px;
  border-radius: 50%;
  border: none;
  background: rgba(51,150,211,0.9);
  color: #fff;
  font-size: 22px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.25);
  cursor: pointer;
}
.circle-btn:active {
  transform: scale(0.9);
} 

.frame-img {
    position: absolute;
    width: 390px;
    height: auto;
    opacity: 0;
    z-index: 1;
    pointer-events: none;
  }


/* Untuk layar lebar (laptop/desktop) */
@media (min-width: 420px) {
  .floating-controls {
    bottom: 110px;
    right: calc(50% - 290px + 60px); 
    /* Tambahin +60px supaya lebih mepet kanan (pasin muka dekorasi) */
  }
}

     @media (max-width: 420px) {
      .overlay h2 { font-size: 1.5rem; }
      .overlay h1 { font-size: 1.5rem; }
       .rsvp-avatar { width: 190px; height: 190px; border-width:5px; }
  .rsvp-title { font-size: 20px; }
  .rek-number {
    font-size: 14px;
  }

  .bank-name {
    font-size: 12px;
  }

  .btn-copy {
    padding: 6px 12px;
    font-size: 12px;
  }

  .bank-logo {
    width: 55px;  /* lebih kecil di HP */
  }

  .cashless-card {
    padding: 8px 10px;
  }

  .section .frame-bottom-left, .section .frame-bottom-right {
    width: 390px;
    bottom: 60px;
  }
     }

    /* responsive tweak */
@media (max-width:420px){
  .rsvp-modal-content .btn-submit { width: 85%; }
  .close-x { width:36px; height:36px; font-size:18px; top:8px; right:10px; }
}
/* responsive small tweaks */
@media (max-width:420px){
  .rsvp-modal-content { padding:16px; }
  .whatsapp-input select { flex: 0 0 30%; }
}

</style>
</head>
<body>

<div class="phone-frame">

  <section id="opening" class="section opening-section">
     <div class="opening-container">
    <div class="opening">
      <div class="title">
        <div class="happy">HAPPY</div>
        <div class="birthday">BIRTHDAY!</div>
      </div>
      <h3>JOIN US TO CELEBRATE</h3>
      <h1>AKMAL AZMI</h1>
      <h3>BIRTHDAY PARTY</h3>
      <p>With Pleasure</p>
      <p class="guest-name">Nama Tamu</p>
    </div>
    </div>

    <img src="mbappe-top-left.png" class="frame-img frame-top-left" alt="Piala">
  <img src="mbappe-top-right.png" class="frame-img frame-top-right" alt="Bendera">
  <img src="mbappe-bottom-left.png" class="frame-img frame-bottom-left" alt="Bola">
  <img src="mbappe-bottom-right.png" class="frame-img frame-bottom-right" alt="Supporter">
  </section>

    <!-- Section langsung Quotes -->
  <section id="acara" class="section active">
  <div class="acara-container">
    <h2 class="welcome">WELCOME TO</h2>
    <h1 class="ulang-tahun">1th</h1>
    <p class="party">AKMAL AZMI BIRTHDAY PARTY</p>

    <!-- Tanggal + Waktu -->
    <div class="tanggal">
      <div class="tgl">
        <span class="hari">12</span>
      </div>
      <div class="info">
        <span>SABTU</span><br>
        <span>OKTOBER 2025</span>
      </div>
      <div class="jam">
        <span>14.00 WITA</span><br>
        <span>s.d SELESAI</span>
      </div>
    </div>

    <!-- Countdown -->
    <div id="countdown">
      <div><span id="days">00</span><p>Hari</p></div>
      <div><span id="hours">00</span><p>Jam</p></div>
      <div><span id="minutes">00</span><p>Menit</p></div>
      <div><span id="seconds">00</span><p>Detik</p></div>
    </div>
  </div>
   <!-- Frame khusus section acara -->
  <img src="mbappe-top-left.png" class="frame-img frame-top-left" alt="Piala">
  <img src="mbappe-top-right.png" class="frame-img frame-top-right" alt="Bendera">
  <img src="mbappe-bottom-left.png" class="frame-img frame-bottom-left" alt="Bola">
  <img src="mbappe-bottom-right.png" class="frame-img frame-bottom-right" alt="Supporter">
</section>

<section id="maps" class="section maps-section">
  <!-- Dekorasi Frame -->
  <img src="mbappe-top-left.png" class="frame-img frame-top-left" alt="Piala">
  <img src="mbappe-top-right.png" class="frame-img frame-top-right" alt="Bendera">
  <img src="mbappe-bottom-left.png" class="frame-img frame-bottom-left" alt="Bola">
  <img src="mbappe-bottom-right.png" class="frame-img frame-bottom-right" alt="Supporter">

  <div class="maps-container">
    <h2 class="maps-title">Lokasi Acara</h2>
    <div class="maps-embed">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3983.164446982922!2d114.60098007473104!3d-3.309471996665376!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2de42393f5a5bd13%3A0x7cb754ba00b62552!2sTaman%20Kanak-%20Kanak%20PGRI%20Kuntum%20Mekar!5e0!3m2!1sid!2sid!4v1758333105399!5m2!1sid!2sid" width="100%" height="200" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
    <p class="maps-address">
      Jl. Jahri Saleh No.20, Sungai Jingah,<br> Kec. Banjarmasin Utara, Kota Banjarmasin
    </p>
    <a href="https://maps.app.goo.gl/Yi7c8WKcLeqk5EGB9" target="_blank" class="btn-maps">
      Petunjuk Ke Lokasi
    </a>
  </div>
</section>


    <section id="rsvp" class="section">

       <img src="mbappe-top-left.png" class="frame-img frame-top-left" alt="Piala">
  <img src="mbappe-top-right.png" class="frame-img frame-top-right" alt="Bendera">
  <img src="mbappe-bottom-left.png" class="frame-img frame-bottom-left" alt="Bola">
  <img src="mbappe-bottom-right.png" class="frame-img frame-bottom-right" alt="Supporter">

  <div class="rsvp-container">
    <div class="rsvp-header">
     <div class="rsvp-avatar">
  <img src="bayi.jpg" alt="Avatar">
</div>
      <!-- Judul: gunakan .light jika background section putih -->
      <h2 class="rsvp-title">Kirim Ucapan dan<br><span style="display:inline-block">Konfirmasi Kehadiran</span></h2>
      <div class="rsvp-subtitle">Klik tombol di bawah untuk mengirimkan ucapan & konfirmasi</div>

      <!-- tombol buka form -->
      <button class="btn-rsvp" id="openRsvpForm">Kirim Ucapan RSVP</button>
    </div>

        <!-- FORM MODAL -->
        <div class="rsvp-modal" id="rsvpModal" aria-hidden="true">
          <div class="rsvp-modal-content" role="dialog" aria-modal="true" aria-labelledby="rsvpTitle">
            <button class="close-x" id="closeRsvpForm" title="Tutup">&times;</button>
            <h3 id="rsvpTitle">Form RSVP</h3>

            <form id="rsvpForm" autocomplete="off">
              <input type="text" name="nama" placeholder="Nama" required>
              <input type="text" name="grup" placeholder="Grup (Opsional)">

              <div class="whatsapp-input">
                <select name="kode" required>
                  <option value="+62">+62</option>
                  <option value="+60">+60</option>
                  <option value="+65">+65</option>
                </select>
                <input type="tel" name="wa" placeholder="No WhatsApp" required>
              </div>

              <select name="kehadiran" required>
                <option value="">Kehadiran</option>
                <option value="Hadir">Hadir</option>
                <option value="Tidak Hadir">Tidak Hadir</option>
              </select>

              <select name="tamu" required>
                <option value="">Jumlah Tamu</option>
                <option value="1">1 Orang</option>
                <option value="2">2 Orang</option>
                <option value="3">3 Orang</option>
                <option value="4">4 Orang</option>
              </select>

              <textarea name="komen" placeholder="Ucapan atau Komentar"></textarea>

              <!-- tombol berdampingan & center -->
              <div class="modal-actions">
                <button type="button" id="cancelForm" class="btn-secondary">Batal</button>
                <button type="submit" class="btn-primary">Kirim</button>
              </div>
            </form>
          </div>
        </div>

        <div class="rsvp-modal" id="rsvpConfirmModal" aria-hidden="true">
        <div class="rsvp-modal-content" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
          <button class="close-x" id="closeConfirm" title="Tutup">&times;</button>
          <h3 id="confirmTitle">RSVP</h3>
          <p class="confirm-sub">Terima kasih — konfirmasi Anda sudah tercatat.</p>
          <div id="confirmDetails" class="confirm-details"></div>
          <div class="modal-actions" style="margin-top:14px;">
            <button id="confirmClose" class="btn-secondary">Tutup</button>
            <button id="confirmDone" class="btn-primary">Selesai</button>
          </div>
        </div>
      </div>
      <!-- LIST RESPON -->
      <div id="rsvpList" class="rsvp-list"></div>
      <!-- Pesan terima kasih (disembunyikan awalnya) -->
      <div id="thankYouMsg" class="rsvp-thanks" style="display:none;">
        Terima kasih — konfirmasi Anda sudah diterima.
      </div>
    </div>
    </section>


  <!-- Section Gift -->
<section id="gift" class="section gift-section">

  <img src="mbappe-top-left.png" class="frame-img frame-top-left" alt="Piala">
  <img src="mbappe-top-right.png" class="frame-img frame-top-right" alt="Bendera">
  <img src="mbappe-bottom-left.png" class="frame-img frame-bottom-left" alt="Bola">
  <img src="mbappe-bottom-right.png" class="frame-img frame-bottom-right" alt="Supporter">

  <div class="gift-container">
  <h1 class="gift-title">Tanda Kasih</h1>
  <p class="gift-text">
    Terima kasih telah menambah semangat kegembiraan ulang tahun anak kami dengan kehadiran dan hadiah indah Anda.
  </p>

  <!-- Tombol Gift -->
  <div class="gift-buttons">
    <a href="#" class="gift-btn cashless" id="cashlessBtn">
      <i class="fa-solid fa-gift"></i> Cashless
    </a>
    <a href="#" id="giftBtn" class="gift-btn kirim">
      <i class="fa-solid fa-gift"></i> Kirim Kado
    </a>
  </div>

 <!-- Info Cashless (default hidden) -->
<div class="cashless-info" id="cashlessInfo">
  <!-- Card 1 -->
  <div class="cashless-card">
    <img src="bank-bca.png" alt="BCA" class="bank-logo">
    <div class="cashless-details">
      <p class="rek-number"><strong>12345678</strong></p>
      <button onclick="copyRek('12345678')" class="btn-copy">Salin Rekening</button>
      <p class="bank-name">BCA - Atas Nama Rekening</p>
    </div>
  </div>

  <!-- Card 2 -->
  <div class="cashless-card">
    <img src="bank-bca.png" alt="BRI" class="bank-logo">
    <div class="cashless-details">
      <p class="rek-number"><strong>87654321</strong></p>
      <button onclick="copyRek('87654321')" class="btn-copy">Salin Rekening</button>
      <p class="bank-name">BRI - Atas Nama Rekening</p>
    </div>
  </div>
</div>
</div>

<div class="gift-info" id="giftInfo">
  <h3>Kirim Kado</h3>
  <p>Anda dapat mengirim kado ke:<br>
  JL. Wildan Sari 1 No 11 Banjarmasin Barat 70119</p>
</div>
</section>


<!-- Section Thanks -->
<section id="thanks" class="section thanks-section">

   <img src="mbappe-top-left.png" class="frame-img frame-top-left" alt="Piala">
  <img src="mbappe-top-right.png" class="frame-img frame-top-right" alt="Bendera">
  <img src="mbappe-bottom-left.png" class="frame-img frame-bottom-left" alt="Bola">
  <img src="mbappe-bottom-right.png" class="frame-img frame-bottom-right" alt="Supporter">

  <div class="thanks-container">
  <h1 class="thanks-title">Terima Kasih</h1>
  <p class="thanks-text">
   Terima kasih atas doa & ucapan ulang tahun yang diberikan.
  </p>
  </div>
</section>


    <!-- Bottom Navbar -->
  <!-- Bottom Navbar -->
<nav class="bottom-nav" id="bottomNav">
  <a href="#opening" data-index="0">
    <div class="nav-item">
      <i class="fa-solid fa-house"></i>
      <span>Opening</span>
    </div>
  </a>
  <a href="#acara" data-index="1" class="active">
    <div class="nav-item">
      <i class="fa-solid fa-calendar-days"></i>
      <span>Acara</span>
    </div>
  </a>
  <a href="#maps" data-index="2">
    <div class="nav-item">
      <i class="fa-solid fa-map-location-dot"></i>
      <span>Maps</span>
    </div>
  </a>
  <a href="#rsvp" data-index="3">
    <div class="nav-item">
      <i class="fa-solid fa-envelope"></i>
      <span>RSVP</span>
    </div>
  </a>
  <a href="#gift" data-index="4">
    <div class="nav-item">
      <i class="fa-solid fa-gift"></i>
      <span>Gift</span>
    </div>
  </a>
  <a href="#thanks" data-index="5">
    <div class="nav-item">
      <i class="fa-solid fa-heart"></i>
      <span>Thanks</span>
    </div>
  </a>
</nav>

<audio id="bg-music" autoplay loop>
  <source src="sound/ulang-tahun.mp3" type="audio/mp3">
  Browser kamu tidak mendukung audio.
</audio>

<!-- Floating Buttons -->
<div class="floating-controls">
  <button id="playPauseBtn" class="circle-btn">
    <i class="fas fa-pause"></i>
  </button>
  <button id="volumeBtn" class="circle-btn">
    <i class="fas fa-volume-up"></i>
  </button>
</div>
</div> <!-- .phone-frame -->

<script>
 function setVh(){ document.documentElement.style.setProperty('--vh',(window.innerHeight*0.01)+'px'); }
setVh(); window.addEventListener('resize', setVh);

function isIOS(){ return /iP(ad|hone|od)/.test(navigator.userAgent); }
function isStandaloneMode(){
  return window.matchMedia && window.matchMedia('(display-mode: standalone)').matches
    || window.navigator.standalone === true;
}

/* ====== Fullscreen (only on user gesture, no visible button) ====== */
function enterFullScreen(){
  // if iOS -> optional toast only (do nothing)
  if (isIOS()) {
    const t = document.getElementById('iosToast');
    if (t) { t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),7000); }
    return false;
  }
  // if standalone (A2HS) -> already fullscreen-like, don't request
  if (isStandaloneMode()) return false;

  const el = document.documentElement;
  const req = el.requestFullscreen || el.webkitRequestFullscreen || el.mozRequestFullScreen || el.msRequestFullscreen;
  if (!req) return false;
  try {
    if (el.requestFullscreen) el.requestFullscreen();
    else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
    else if (el.mozRequestFullScreen) el.mozRequestFullScreen();
    else if (el.msRequestFullscreen) el.msRequestFullscreen();
    return true;
  } catch (err){
    console.warn('Fullscreen failed', err);
    return false;
  }
}

let triedFS = false;
function onFirstGesture(e){
  if (triedFS) return;
  triedFS = true;
  // only try if not already fullscreen & not standalone
  if (!document.fullscreenElement && !isStandaloneMode()){
    enterFullScreen();
  }
  // remove listener (we used {once:true} anyway)
}

// Listen to a real user gesture once (pointerdown is quite universal)
document.addEventListener('pointerdown', onFirstGesture, { once: true });

const sections = Array.from(document.querySelectorAll('.section')); // urutan: opening, acara, maps, rsvp, gift, thanks
const navLinks = Array.from(document.querySelectorAll('.bottom-nav a'));
let currentIndex = 0; // akan disinkronkan ke section aktif saat load

/* ---- animate frames (tetap seperti mekanik sebelumnya) ---- */
function animateSectionFrames(index) {
  sections.forEach(sec => {
    ['.frame-top-left', '.frame-top-right', '.frame-bottom-left', '.frame-bottom-right'].forEach(sel => {
      const el = sec.querySelector(sel);
      if (el) {
        el.classList.remove('show-top-left','show-top-right','show-bottom-left','show-bottom-right');
        void el.offsetWidth; // force reflow supaya animasi bisa diulang
      }
    });
  });

  const sec = sections[index];
  if(!sec) return;
  const tl = sec.querySelector('.frame-top-left');
  const tr = sec.querySelector('.frame-top-right');
  const bl = sec.querySelector('.frame-bottom-left');
  const br = sec.querySelector('.frame-bottom-right');

  setTimeout(()=> {
    if(tl) tl.classList.add('show-top-left');
    if(tr) tr.classList.add('show-top-right');
    if(bl) bl.classList.add('show-bottom-left');
    if(br) br.classList.add('show-bottom-right');
  }, 40);
}

/* ---- showSection: menampilkan section berdasarkan index ---- */
function showSection(index) {
  index = Number(index);
  if (isNaN(index) || index < 0 || index >= sections.length) return;

  sections.forEach((sec, i) => sec.classList.toggle('active', i === index));

  // sinkronkan nav: cek data-index pada tiap link
  navLinks.forEach(link => {
    const idx = Number(link.dataset.index);
    // jika data-index tidak valid, jangan jadiin active
    if (!isNaN(idx)) {
      link.classList.toggle('active', idx === index);
    } else {
      link.classList.remove('active');
    }
  });

  currentIndex = index;
  animateSectionFrames(index);
}

/* ---- nav handlers: mencegah default dan panggil showSection ---- */
navLinks.forEach(link => {
  link.addEventListener('click', function(e){
    e.preventDefault(); // cegah scroll / perubahan url
    const idx = Number(this.dataset.index);
    if (!isNaN(idx)) showSection(idx);
  });

  // aksesibilitas: bisa tekan Enter/Space untuk aktifkan link
  link.addEventListener('keydown', function(e){
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      const idx = Number(this.dataset.index);
      if (!isNaN(idx)) showSection(idx);
    }
  });
});

/* ---- saat load: sinkronkan initial active section (jika ada .active di HTML) ---- */
document.addEventListener('DOMContentLoaded', () => {
  const initial = sections.findIndex(s => s.classList.contains('active'));
  const startIndex = initial >= 0 ? initial : 0;
  showSection(startIndex);
});

/* ---- cegah anchor internal di dalam .section memicu perpindahan
         (jika memang ada anchor internal yang ingin tetap bekerja, beri class "external") ---- */
document.querySelectorAll('.section a[href^="#"]').forEach(a => {
  if (!a.classList.contains('external')) {
    a.addEventListener('click', function(e){
      e.preventDefault();
    });
  }
});

var countDownDate = new Date("Jan 13, 2026 20:00:00").getTime();

var x = setInterval(function() {
  var now = new Date().getTime();
  var distance = countDownDate - now;

  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  document.getElementById("days").innerHTML = days < 10 ? "0" + days : days;
  document.getElementById("hours").innerHTML = hours < 10 ? "0" + hours : hours;
  document.getElementById("minutes").innerHTML = minutes < 10 ? "0" + minutes : minutes;
  document.getElementById("seconds").innerHTML = seconds < 10 ? "0" + seconds : seconds;

  if (distance < 0) {
    clearInterval(x);
    document.getElementById("countdown").innerHTML = "<p>Acara sudah dimulai!</p>";
  }
}, 1000);

/* --------- RSVP logic (modal, submit, confirm) - allow re-submit --------- */
(function(){
  const openBtn = document.getElementById('openRsvpForm');
  const rsvpModal = document.getElementById('rsvpModal');
  const closeRsvpForm = document.getElementById('closeRsvpForm');
  const cancelForm = document.getElementById('cancelForm');
  const rsvpForm = document.getElementById('rsvpForm');

  const confirmModal = document.getElementById('rsvpConfirmModal');
  const closeConfirm = document.getElementById('closeConfirm');
  const confirmClose = document.getElementById('confirmClose');
  const confirmDone = document.getElementById('confirmDone');
  const confirmDetails = document.getElementById('confirmDetails');

  // keep rsvpList available if you want, but we won't prepend entries here
  const rsvpList = document.getElementById('rsvpList');

  function openModal(modalEl) {
    modalEl.style.display = 'flex';
    modalEl.setAttribute('aria-hidden','false');
  }
  function closeModal(modalEl) {
    modalEl.style.display = 'none';
    modalEl.setAttribute('aria-hidden','true');
  }

  openBtn.addEventListener('click', ()=> openModal(rsvpModal));
  closeRsvpForm.addEventListener('click', ()=> closeModal(rsvpModal));
  cancelForm.addEventListener('click', ()=> closeModal(rsvpModal));
  rsvpModal.addEventListener('click', (e)=> { if (e.target === rsvpModal) closeModal(rsvpModal); });

  closeConfirm.addEventListener('click', ()=> closeModal(confirmModal));
  confirmClose.addEventListener('click', ()=> closeModal(confirmModal));
  confirmDone.addEventListener('click', ()=> {
    // close confirm modal and return to normal state so user can submit again
    closeModal(confirmModal);
    // optionally focus the open button so user can reopen the form quickly
    openBtn.focus();
  });
  confirmModal.addEventListener('click', (e)=> { if (e.target === confirmModal) closeModal(confirmModal); });

  function getInitials(name){
    if(!name) return 'NN';
    const parts = name.trim().split(/\s+/);
    if(parts.length === 1) return parts[0].slice(0,2).toUpperCase();
    return (parts[0][0] + (parts[1][0] || '')).toUpperCase().slice(0,2);
  }
  function formatDateTime(d){
    const date = d.toLocaleDateString('id-ID', { day:'2-digit', month:'long', year:'numeric' });
    let time = d.toLocaleTimeString('id-ID', { hour:'2-digit', minute:'2-digit' });
    time = time.replace(':','.');
    return `${date} at ${time}`;
  }

  // MAIN: handle submit, show confirm, but DO NOT hide the open button or block future submits
  rsvpForm.addEventListener('submit', (e)=> {
    e.preventDefault();

    const fd = new FormData(rsvpForm);
    const nama = (fd.get('nama') || '').trim();
    const grup = (fd.get('grup') || '').trim();
    const kehadiran = fd.get('kehadiran') || '';
    const komen = (fd.get('komen') || '').trim();
    const now = new Date();
    const ts = formatDateTime(now);
    const initials = getInitials(nama || 'Tamu');
    const badgeColor = (kehadiran === 'Hadir') ? '#1abc9c' : '#e74c3c';

    // isi confirm modal (tetap tampilkan)
    confirmDetails.innerHTML = `
      <div style="display:flex;gap:12px;align-items:center;">
        <div style="background:${badgeColor};width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;">
          ${initials}
        </div>
        <div style="flex:1;">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;">
            <div>
              <div style="font-weight:700;">${nama || '-'}</div>
              ${grup ? `<div style="font-size:12px;color:#666;">${grup}</div>` : ''}
            </div>
            <div>
              <span style="background:${badgeColor};color:#fff;padding:4px 8px;border-radius:8px;font-size:12px;">
                ${kehadiran}
              </span>
            </div>
          </div>
        </div>
      </div>
      <div style="margin-top:12px;">
        <div style="font-weight:600;margin-bottom:6px;">Ucapan / Komentar</div>
        <div style="color:#333;">${komen || '-'}</div>
      </div>
      <div style="margin-top:10px;color:#666;font-size:13px;">
        ${ts}
      </div>
    `;

    // Tutup form modal & buka confirm modal
    closeModal(rsvpModal);
    openModal(confirmModal);

    // IMPORTANT: tidak menambahkan entry ke daftar supaya tidak tampil di section
    // Tidak menyimpan flag di localStorage sehingga user bisa mengisi lagi kapan pun.

    // Reset form fields so next open is clean
    rsvpForm.reset();
  });

})(); // end IIFE

function copyRek(noRek) {
  navigator.clipboard.writeText(noRek).then(() => {
    alert("Nomor rekening " + noRek + " berhasil disalin!");
  });
}
// gift //
document.addEventListener('DOMContentLoaded', function () {
  // ambil elemen
  const cashlessBtn = document.getElementById('cashlessBtn');
  const cashlessInfo = document.getElementById('cashlessInfo');

  // tombol Kirim Kado: pilih berdasarkan class .gift-btn.kirim
  // (alternatif: beri <a id="giftBtn" ...> lalu pakai getElementById)
  const giftBtn = document.querySelector('.gift-btn.kirim');
  const giftInfo = document.getElementById('giftInfo');

  // helper: toggle class 'show' dengan safety check
  function safeToggle(el) {
    if (!el) return;
    el.classList.toggle('show');
  }
  function safeShow(el) {
    if (!el) return;
    el.classList.add('show');
  }
  function safeHide(el) {
    if (!el) return;
    el.classList.remove('show');
  }

  // bila mau: saat membuka satu, tutup yang lain (opsional)
  function openCashlessToggle(e) {
    e.preventDefault();
    // toggle cashless
    safeToggle(cashlessInfo);
    // tutup gift supaya cuma satu yg terbuka
    safeHide(giftInfo);
  }

  function openGiftToggle(e) {
    e.preventDefault();
    safeToggle(giftInfo);
    // tutup cashless supaya cuma satu yg terbuka
    safeHide(cashlessInfo);
  }

  if (cashlessBtn) cashlessBtn.addEventListener('click', openCashlessToggle);
  if (giftBtn) giftBtn.addEventListener('click', openGiftToggle);

  // OPTIONAL: jika anchor href="#" masih mengganggu scroll, cegah default juga via keydown (Enter/Space)
  [cashlessBtn, giftBtn].forEach(btn => {
    if (!btn) return;
    btn.addEventListener('keydown', (ev) => {
      if (ev.key === 'Enter' || ev.key === ' ') {
        ev.preventDefault();
        btn.click();
      }
    });
  });
});

// === Replace existing showSection and nav click handling with this ===
function showSection(index) {
    sections.forEach((sec, i) => {
        sec.classList.toggle('active', i === index);
    });
    navLinks.forEach((link, i) => {
        link.classList.toggle('active', i === index);
    });
    currentIndex = index;

    // animate frames for the newly active section (and reset others)
    animateSectionFrames(index);
}

// add animation classes to frame images inside the active section
function animateSectionFrames(index) {
    // first, remove any animation classes from all sections so re-triggering works
    sections.forEach(sec => {
        const topLeft = sec.querySelector('.frame-top-left');
        const topRight = sec.querySelector('.frame-top-right');
        const bottomLeft = sec.querySelector('.frame-bottom-left');
        const bottomRight = sec.querySelector('.frame-bottom-right');
        [topLeft, topRight, bottomLeft, bottomRight].forEach(el => {
            if(el) {
                el.classList.remove('show-top-left','show-top-right','show-bottom-left','show-bottom-right');
                // force reflow so animation can restart (optional but helpful)
                void el.offsetWidth;
            }
        });
    });

    // then add classes to the active section's frames with a tiny delay
    const sec = sections[index];
    if(!sec) return;
    const tl = sec.querySelector('.frame-top-left');
    const tr = sec.querySelector('.frame-top-right');
    const bl = sec.querySelector('.frame-bottom-left');
    const br = sec.querySelector('.frame-bottom-right');

    setTimeout(()=> {
        if(tl) tl.classList.add('show-top-left');
        if(tr) tr.classList.add('show-top-right');
        if(bl) bl.classList.add('show-bottom-left');
        if(br) br.classList.add('show-bottom-right');
    }, 40);
}

// Navbar click (keep this, but make sure it calls the new showSection)
navLinks.forEach(link => {
    link.addEventListener('click', e => {
        e.preventDefault();
        const index = parseInt(link.getAttribute('data-index'));
        showSection(index);
    });
});

// trigger initial animation for the default active section
document.addEventListener('DOMContentLoaded', () => {
    // if you want the initial active section's frames animated immediately:
    animateSectionFrames(currentIndex);
});

 const bgMusic = document.getElementById("bg-music");
const playPauseBtn = document.getElementById("playPauseBtn");
const volumeBtn = document.getElementById("volumeBtn");

let isPlaying = true;

playPauseBtn.addEventListener("click", () => {
  if (isPlaying) {
    bgMusic.pause();
    playPauseBtn.innerHTML = `<i class="fas fa-play"></i>`;
  } else {
    bgMusic.play();
    playPauseBtn.innerHTML = `<i class="fas fa-pause"></i>`;
  }
  isPlaying = !isPlaying;
});

let isMuted = false;
volumeBtn.addEventListener("click", () => {
  bgMusic.muted = !isMuted;
  volumeBtn.innerHTML = isMuted 
    ? `<i class="fas fa-volume-up"></i>` 
    : `<i class="fas fa-volume-mute"></i>`;
  isMuted = !isMuted;
});

if (performance.getEntriesByType("navigation")[0].type === "reload") { window.location.href = "index.html"; }
</script>
</body>
</html>